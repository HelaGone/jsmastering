{"version":3,"file":"file.js","names":["helpers","data","require","_traverse","_codeFrame","_t","_helperModuleTransforms","_semver","_t2","cloneNode","interpreterDirective","errorVisitor","enter","path","state","loc","node","stop","File","options","_ref","_this","code","ast","inputMap","_classCallCheck","_map","Map","opts","declarations","scope","metadata","hub","file","getCode","getScope","addHelper","bind","buildError","buildCodeFrameError","NodePath","get","parentPath","parent","container","key","setContext","_createClass","interpreter","value","set","replaceWith","remove","val","Error","has","getModuleName","availableHelper","name","versionRange","minVersion","err","valid","concat","intersects","_this2","declar","generator","res","ensure","uid","generateUidIdentifier","dependencies","_iterator","_createForOfIteratorHelper","getDependencies","_step","s","n","done","dep","e","f","_helpers$get","Object","keys","getAllBindings","nodes","globals","forEach","hasBinding","rename","_compact","added","unshiftContainer","_iterator2","_step2","isVariableDeclaration","registerDeclaration","msg","_Error","arguments","length","undefined","SyntaxError","txt","_this$opts$highlightC","highlightCode","codeFrameColumns","start","line","column","end","exports","prototype","addImport","addTemplateObject"],"sources":["../../../src/transformation/file/file.ts"],"sourcesContent":["import * as helpers from \"@babel/helpers\";\nimport { NodePath } from \"@babel/traverse\";\nimport type { HubInterface, Visitor, Scope } from \"@babel/traverse\";\nimport { codeFrameColumns } from \"@babel/code-frame\";\nimport traverse from \"@babel/traverse\";\nimport { cloneNode, interpreterDirective } from \"@babel/types\";\nimport type * as t from \"@babel/types\";\nimport { getModuleName } from \"@babel/helper-module-transforms\";\nimport semver from \"semver\";\n\nimport type { NormalizedFile } from \"../normalize-file.ts\";\n\nconst errorVisitor: Visitor<{ loc: t.SourceLocation | null }> = {\n  enter(path, state) {\n    const loc = path.node.loc;\n    if (loc) {\n      state.loc = loc;\n      path.stop();\n    }\n  },\n};\n\nexport default class File {\n  _map: Map<unknown, unknown> = new Map();\n  opts: { [key: string]: any };\n  declarations: { [key: string]: t.Identifier } = {};\n  path: NodePath<t.Program>;\n  ast: t.File;\n  scope: Scope;\n  metadata: { [key: string]: any } = {};\n  code: string = \"\";\n  inputMap: any;\n\n  hub: HubInterface & { file: File } = {\n    // keep it for the usage in babel-core, ex: path.hub.file.opts.filename\n    file: this,\n    getCode: () => this.code,\n    getScope: () => this.scope,\n    addHelper: this.addHelper.bind(this),\n    buildError: this.buildCodeFrameError.bind(this),\n  };\n\n  constructor(options: {}, { code, ast, inputMap }: NormalizedFile) {\n    this.opts = options;\n    this.code = code;\n    this.ast = ast;\n    this.inputMap = inputMap;\n\n    this.path = NodePath.get({\n      hub: this.hub,\n      parentPath: null,\n      parent: this.ast,\n      container: this.ast,\n      key: \"program\",\n    }).setContext() as NodePath<t.Program>;\n    this.scope = this.path.scope;\n  }\n\n  /**\n   * Provide backward-compatible access to the interpreter directive handling\n   * in Babel 6.x. If you are writing a plugin for Babel 7.x, it would be\n   * best to use 'program.interpreter' directly.\n   */\n  get shebang(): string {\n    const { interpreter } = this.path.node;\n    return interpreter ? interpreter.value : \"\";\n  }\n  set shebang(value: string) {\n    if (value) {\n      this.path.get(\"interpreter\").replaceWith(interpreterDirective(value));\n    } else {\n      this.path.get(\"interpreter\").remove();\n    }\n  }\n\n  set(key: unknown, val: unknown) {\n    if (!process.env.BABEL_8_BREAKING) {\n      if (key === \"helpersNamespace\") {\n        throw new Error(\n          \"Babel 7.0.0-beta.56 has dropped support for the 'helpersNamespace' utility.\" +\n            \"If you are using @babel/plugin-external-helpers you will need to use a newer \" +\n            \"version than the one you currently have installed. \" +\n            \"If you have your own implementation, you'll want to explore using 'helperGenerator' \" +\n            \"alongside 'file.availableHelper()'.\",\n        );\n      }\n    }\n\n    this._map.set(key, val);\n  }\n\n  get(key: unknown): any {\n    return this._map.get(key);\n  }\n\n  has(key: unknown): boolean {\n    return this._map.has(key);\n  }\n\n  getModuleName(): string | undefined | null {\n    return getModuleName(this.opts, this.opts);\n  }\n\n  /**\n   * Check if a given helper is available in @babel/core's helper list.\n   *\n   * This _also_ allows you to pass a Babel version specifically. If the\n   * helper exists, but was not available for the full given range, it will be\n   * considered unavailable.\n   */\n  availableHelper(name: string, versionRange?: string | null): boolean {\n    let minVersion;\n    try {\n      minVersion = helpers.minVersion(name);\n    } catch (err) {\n      if (err.code !== \"BABEL_HELPER_UNKNOWN\") throw err;\n\n      return false;\n    }\n\n    if (typeof versionRange !== \"string\") return true;\n\n    // semver.intersects() has some surprising behavior with comparing ranges\n    // with pre-release versions. We add '^' to ensure that we are always\n    // comparing ranges with ranges, which sidesteps this logic.\n    // For example:\n    //\n    //   semver.intersects(`<7.0.1`, \"7.0.0-beta.0\") // false - surprising\n    //   semver.intersects(`<7.0.1`, \"^7.0.0-beta.0\") // true - expected\n    //\n    // This is because the first falls back to\n    //\n    //   semver.satisfies(\"7.0.0-beta.0\", `<7.0.1`) // false - surprising\n    //\n    // and this fails because a prerelease version can only satisfy a range\n    // if it is a prerelease within the same major/minor/patch range.\n    //\n    // Note: If this is found to have issues, please also revisit the logic in\n    // transform-runtime's definitions.js file.\n    if (semver.valid(versionRange)) versionRange = `^${versionRange}`;\n\n    if (process.env.BABEL_8_BREAKING) {\n      return (\n        !semver.intersects(`<${minVersion}`, versionRange) &&\n        !semver.intersects(`>=9.0.0`, versionRange)\n      );\n    } else {\n      return (\n        !semver.intersects(`<${minVersion}`, versionRange) &&\n        !semver.intersects(`>=8.0.0`, versionRange)\n      );\n    }\n  }\n\n  addHelper(name: string): t.Identifier {\n    const declar = this.declarations[name];\n    if (declar) return cloneNode(declar);\n\n    const generator = this.get(\"helperGenerator\");\n    if (generator) {\n      const res = generator(name);\n      if (res) return res;\n    }\n\n    // make sure that the helper exists\n    helpers.ensure(name, File);\n\n    const uid = (this.declarations[name] =\n      this.scope.generateUidIdentifier(name));\n\n    const dependencies: { [key: string]: t.Identifier } = {};\n    for (const dep of helpers.getDependencies(name)) {\n      dependencies[dep] = this.addHelper(dep);\n    }\n\n    const { nodes, globals } = helpers.get(\n      name,\n      dep => dependencies[dep],\n      uid,\n      Object.keys(this.scope.getAllBindings()),\n    );\n\n    globals.forEach(name => {\n      if (this.path.scope.hasBinding(name, true /* noGlobals */)) {\n        this.path.scope.rename(name);\n      }\n    });\n\n    nodes.forEach(node => {\n      // @ts-expect-error Fixme: document _compact node property\n      node._compact = true;\n    });\n\n    const added = this.path.unshiftContainer(\"body\", nodes);\n    // TODO: NodePath#unshiftContainer should automatically register new\n    // bindings.\n    for (const path of added) {\n      if (path.isVariableDeclaration()) this.scope.registerDeclaration(path);\n    }\n\n    return uid;\n  }\n\n  buildCodeFrameError(\n    node: t.Node | undefined | null,\n    msg: string,\n    _Error: typeof Error = SyntaxError,\n  ): Error {\n    let loc = node?.loc;\n\n    if (!loc && node) {\n      const state: { loc?: t.SourceLocation | null } = {\n        loc: null,\n      };\n      traverse(node, errorVisitor, this.scope, state);\n      loc = state.loc;\n\n      let txt =\n        \"This is an error on an internal node. Probably an internal error.\";\n      if (loc) txt += \" Location has been estimated.\";\n\n      msg += ` (${txt})`;\n    }\n\n    if (loc) {\n      const { highlightCode = true } = this.opts;\n\n      msg +=\n        \"\\n\" +\n        codeFrameColumns(\n          this.code,\n          {\n            start: {\n              line: loc.start.line,\n              column: loc.start.column + 1,\n            },\n            end:\n              loc.end && loc.start.line === loc.end.line\n                ? {\n                    line: loc.end.line,\n                    column: loc.end.column + 1,\n                  }\n                : undefined,\n          },\n          { highlightCode },\n        );\n    }\n\n    return new _Error(msg);\n  }\n}\n\nif (!process.env.BABEL_8_BREAKING) {\n  // @ts-expect-error Babel 7\n  File.prototype.addImport = function addImport() {\n    throw new Error(\n      \"This API has been removed. If you're looking for this \" +\n        \"functionality in Babel 7, you should import the \" +\n        \"'@babel/helper-module-imports' module and use the functions exposed \" +\n        \" from that module, such as 'addNamed' or 'addDefault'.\",\n    );\n  };\n  // @ts-expect-error Babel 7\n  File.prototype.addTemplateObject = function addTemplateObject() {\n    throw new Error(\n      \"This function has been moved into the template literal transform itself.\",\n    );\n  };\n}\n"],"mappings":"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","ignoreList":[]}