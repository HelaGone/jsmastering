{"version":3,"file":"util.js","names":["mergeOptions","target","source","_i","_Object$keys","Object","keys","length","k","parserOpts","targetObj","mergeDefaultFields","val","undefined","_i2","_Object$keys2","isIterableIterator","value","next","Symbol","iterator"],"sources":["../../src/config/util.ts"],"sourcesContent":["import type {\n  ValidatedOptions,\n  NormalizedOptions,\n} from \"./validation/options.ts\";\n\nexport function mergeOptions(\n  target: ValidatedOptions,\n  source: ValidatedOptions | NormalizedOptions,\n): void {\n  for (const k of Object.keys(source)) {\n    if (\n      (k === \"parserOpts\" || k === \"generatorOpts\" || k === \"assumptions\") &&\n      source[k]\n    ) {\n      const parserOpts = source[k];\n      const targetObj = target[k] || (target[k] = {});\n      mergeDefaultFields(targetObj, parserOpts);\n    } else {\n      //@ts-expect-error k must index source\n      const val = source[k];\n      //@ts-expect-error assigning source to target\n      if (val !== undefined) target[k] = val as any;\n    }\n  }\n}\n\nfunction mergeDefaultFields<T extends {}>(target: T, source: T) {\n  for (const k of Object.keys(source) as (keyof T)[]) {\n    const val = source[k];\n    if (val !== undefined) target[k] = val;\n  }\n}\n\nexport function isIterableIterator(value: any): value is IterableIterator<any> {\n  return (\n    !!value &&\n    typeof value.next === \"function\" &&\n    typeof value[Symbol.iterator] === \"function\"\n  );\n}\n"],"mappings":";;;;;;;AAKO,SAASA,YAAYA,CAC1BC,MAAwB,EACxBC,MAA4C,EACtC;EACN,SAAAC,EAAA,MAAAC,YAAA,GAAgBC,MAAM,CAACC,IAAI,CAACJ,MAAM,CAAC,EAAAC,EAAA,GAAAC,YAAA,CAAAG,MAAA,EAAAJ,EAAA,IAAE;IAAhC,IAAMK,CAAC,GAAAJ,YAAA,CAAAD,EAAA;IACV,IACE,CAACK,CAAC,KAAK,YAAY,IAAIA,CAAC,KAAK,eAAe,IAAIA,CAAC,KAAK,aAAa,KACnEN,MAAM,CAACM,CAAC,CAAC,EACT;MACA,IAAMC,UAAU,GAAGP,MAAM,CAACM,CAAC,CAAC;MAC5B,IAAME,SAAS,GAAGT,MAAM,CAACO,CAAC,CAAC,KAAKP,MAAM,CAACO,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;MAC/CG,kBAAkB,CAACD,SAAS,EAAED,UAAU,CAAC;IAC3C,CAAC,MAAM;MAEL,IAAMG,GAAG,GAAGV,MAAM,CAACM,CAAC,CAAC;MAErB,IAAII,GAAG,KAAKC,SAAS,EAAEZ,MAAM,CAACO,CAAC,CAAC,GAAGI,GAAU;IAC/C;EACF;AACF;AAEA,SAASD,kBAAkBA,CAAeV,MAAS,EAAEC,MAAS,EAAE;EAC9D,SAAAY,GAAA,MAAAC,aAAA,GAAgBV,MAAM,CAACC,IAAI,CAACJ,MAAM,CAAC,EAAAY,GAAA,GAAAC,aAAA,CAAAR,MAAA,EAAAO,GAAA,IAAiB;IAA/C,IAAMN,CAAC,GAAAO,aAAA,CAAAD,GAAA;IACV,IAAMF,GAAG,GAAGV,MAAM,CAACM,CAAC,CAAC;IACrB,IAAII,GAAG,KAAKC,SAAS,EAAEZ,MAAM,CAACO,CAAC,CAAC,GAAGI,GAAG;EACxC;AACF;AAEO,SAASI,kBAAkBA,CAACC,KAAU,EAAkC;EAC7E,OACE,CAAC,CAACA,KAAK,IACP,OAAOA,KAAK,CAACC,IAAI,KAAK,UAAU,IAChC,OAAOD,KAAK,CAACE,MAAM,CAACC,QAAQ,CAAC,KAAK,UAAU;AAEhD;AAAC","ignoreList":[]}