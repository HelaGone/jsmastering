{"version":3,"file":"plugins.js","names":["loadPlugin","_marked2","_regeneratorRuntime","mark","loadPreset","_marked3","resolveAlternativesHelper","_marked4","requireModule","_debug","data","require","_path","_async","_moduleTypes","_url","_importMetaResolve","_fs","debug","EXACT_RE","BABEL_PLUGIN_PREFIX_RE","BABEL_PRESET_PREFIX_RE","BABEL_PLUGIN_ORG_RE","BABEL_PRESET_ORG_RE","OTHER_PLUGIN_ORG_RE","OTHER_PRESET_ORG_RE","OTHER_ORG_DEFAULT_RE","resolvePlugin","exports","resolveStandardizedName","bind","resolvePreset","name","dirname","filepath","value","wrap","loadPlugin$","_context","prev","next","t0","t1","t2","delegateYield","isAsync","t4","t3","t5","abrupt","stop","_marked","loadPreset$","_context2","standardizeName","type","isAbsolute","isPreset","replace","concat","standardizedName","_yield$standardizedNa","error","oppositeType","transformName","resolveAlternativesHelper$","_context3","sent","code","message","tryRequireResolve","id","v","w","split","process","versions","node","resolve","r","_ref","_ref$paths","_slicedToArray","paths","b","M","arguments","length","undefined","f","_findPath","_nodeModulePaths","Error","tryImportMetaResolve","options","resolveStandardizedNameForRequire","it","res","done","resolveStandardizedNameForImport","parentUrl","pathToFileURL","join","href","fileURLToPath","resolveESM","supportsESM","resolved","existsSync","Object","assign","e","e2","LOADING_MODULES","Set","requireModule$","_context4","has","add","finish"],"sources":["../../../src/config/files/plugins.ts"],"sourcesContent":["/**\n * This file handles all logic for converting string-based configuration references into loaded objects.\n */\n\nimport buildDebug from \"debug\";\nimport path from \"path\";\nimport type { Handler } from \"gensync\";\nimport { isAsync } from \"../../gensync-utils/async.ts\";\nimport loadCodeDefault, { supportsESM } from \"./module-types.ts\";\nimport { fileURLToPath, pathToFileURL } from \"url\";\n\nimport { resolve as importMetaResolve } from \"../../vendor/import-meta-resolve.js\";\n\nimport { createRequire } from \"module\";\nimport { existsSync } from \"fs\";\nconst require = createRequire(import.meta.url);\n\nconst debug = buildDebug(\"babel:config:loading:files:plugins\");\n\nconst EXACT_RE = /^module:/;\nconst BABEL_PLUGIN_PREFIX_RE = /^(?!@|module:|[^/]+\\/|babel-plugin-)/;\nconst BABEL_PRESET_PREFIX_RE = /^(?!@|module:|[^/]+\\/|babel-preset-)/;\nconst BABEL_PLUGIN_ORG_RE = /^(@babel\\/)(?!plugin-|[^/]+\\/)/;\nconst BABEL_PRESET_ORG_RE = /^(@babel\\/)(?!preset-|[^/]+\\/)/;\nconst OTHER_PLUGIN_ORG_RE =\n  /^(@(?!babel\\/)[^/]+\\/)(?![^/]*babel-plugin(?:-|\\/|$)|[^/]+\\/)/;\nconst OTHER_PRESET_ORG_RE =\n  /^(@(?!babel\\/)[^/]+\\/)(?![^/]*babel-preset(?:-|\\/|$)|[^/]+\\/)/;\nconst OTHER_ORG_DEFAULT_RE = /^(@(?!babel$)[^/]+)$/;\n\nexport const resolvePlugin = resolveStandardizedName.bind(null, \"plugin\");\nexport const resolvePreset = resolveStandardizedName.bind(null, \"preset\");\n\nexport function* loadPlugin(\n  name: string,\n  dirname: string,\n): Handler<{ filepath: string; value: unknown }> {\n  const filepath = resolvePlugin(name, dirname, yield* isAsync());\n\n  const value = yield* requireModule(\"plugin\", filepath);\n  debug(\"Loaded plugin %o from %o.\", name, dirname);\n\n  return { filepath, value };\n}\n\nexport function* loadPreset(\n  name: string,\n  dirname: string,\n): Handler<{ filepath: string; value: unknown }> {\n  const filepath = resolvePreset(name, dirname, yield* isAsync());\n\n  const value = yield* requireModule(\"preset\", filepath);\n\n  debug(\"Loaded preset %o from %o.\", name, dirname);\n\n  return { filepath, value };\n}\n\nfunction standardizeName(type: \"plugin\" | \"preset\", name: string) {\n  // Let absolute and relative paths through.\n  if (path.isAbsolute(name)) return name;\n\n  const isPreset = type === \"preset\";\n\n  return (\n    name\n      // foo -> babel-preset-foo\n      .replace(\n        isPreset ? BABEL_PRESET_PREFIX_RE : BABEL_PLUGIN_PREFIX_RE,\n        `babel-${type}-`,\n      )\n      // @babel/es2015 -> @babel/preset-es2015\n      .replace(\n        isPreset ? BABEL_PRESET_ORG_RE : BABEL_PLUGIN_ORG_RE,\n        `$1${type}-`,\n      )\n      // @foo/mypreset -> @foo/babel-preset-mypreset\n      .replace(\n        isPreset ? OTHER_PRESET_ORG_RE : OTHER_PLUGIN_ORG_RE,\n        `$1babel-${type}-`,\n      )\n      // @foo -> @foo/babel-preset\n      .replace(OTHER_ORG_DEFAULT_RE, `$1/babel-${type}`)\n      // module:mypreset -> mypreset\n      .replace(EXACT_RE, \"\")\n  );\n}\n\ntype Result<T> = { error: Error; value: null } | { error: null; value: T };\n\nfunction* resolveAlternativesHelper(\n  type: \"plugin\" | \"preset\",\n  name: string,\n): Iterator<string, string, Result<string>> {\n  const standardizedName = standardizeName(type, name);\n  const { error, value } = yield standardizedName;\n  if (!error) return value;\n\n  // @ts-expect-error code may not index error\n  if (error.code !== \"MODULE_NOT_FOUND\") throw error;\n\n  if (standardizedName !== name && !(yield name).error) {\n    error.message += `\\n- If you want to resolve \"${name}\", use \"module:${name}\"`;\n  }\n\n  if (!(yield standardizeName(type, \"@babel/\" + name)).error) {\n    error.message += `\\n- Did you mean \"@babel/${name}\"?`;\n  }\n\n  const oppositeType = type === \"preset\" ? \"plugin\" : \"preset\";\n  if (!(yield standardizeName(oppositeType, name)).error) {\n    error.message += `\\n- Did you accidentally pass a ${oppositeType} as a ${type}?`;\n  }\n\n  if (type === \"plugin\") {\n    const transformName = standardizedName.replace(\"-proposal-\", \"-transform-\");\n    if (transformName !== standardizedName && !(yield transformName).error) {\n      error.message += `\\n- Did you mean \"${transformName}\"?`;\n    }\n  }\n\n  error.message += `\\n\nMake sure that all the Babel plugins and presets you are using\nare defined as dependencies or devDependencies in your package.json\nfile. It's possible that the missing plugin is loaded by a preset\nyou are using that forgot to add the plugin to its dependencies: you\ncan workaround this problem by explicitly adding the missing package\nto your top-level package.json.\n`;\n\n  throw error;\n}\n\nfunction tryRequireResolve(\n  id: string,\n  dirname: string | undefined,\n): Result<string> {\n  try {\n    if (dirname) {\n      return { error: null, value: require.resolve(id, { paths: [dirname] }) };\n    } else {\n      return { error: null, value: require.resolve(id) };\n    }\n  } catch (error) {\n    return { error, value: null };\n  }\n}\n\nfunction tryImportMetaResolve(\n  id: Parameters<typeof importMetaResolve>[0],\n  options: Parameters<typeof importMetaResolve>[1],\n): Result<string> {\n  try {\n    return { error: null, value: importMetaResolve(id, options) };\n  } catch (error) {\n    return { error, value: null };\n  }\n}\n\nfunction resolveStandardizedNameForRequire(\n  type: \"plugin\" | \"preset\",\n  name: string,\n  dirname: string,\n) {\n  const it = resolveAlternativesHelper(type, name);\n  let res = it.next();\n  while (!res.done) {\n    res = it.next(tryRequireResolve(res.value, dirname));\n  }\n  return res.value;\n}\nfunction resolveStandardizedNameForImport(\n  type: \"plugin\" | \"preset\",\n  name: string,\n  dirname: string,\n) {\n  const parentUrl = pathToFileURL(\n    path.join(dirname, \"./babel-virtual-resolve-base.js\"),\n  ).href;\n\n  const it = resolveAlternativesHelper(type, name);\n  let res = it.next();\n  while (!res.done) {\n    res = it.next(tryImportMetaResolve(res.value, parentUrl));\n  }\n  return fileURLToPath(res.value);\n}\n\nfunction resolveStandardizedName(\n  type: \"plugin\" | \"preset\",\n  name: string,\n  dirname: string,\n  resolveESM: boolean,\n) {\n  if (!supportsESM || !resolveESM) {\n    return resolveStandardizedNameForRequire(type, name, dirname);\n  }\n\n  try {\n    const resolved = resolveStandardizedNameForImport(type, name, dirname);\n    // import-meta-resolve 4.0 does not throw if the module is not found.\n    if (!existsSync(resolved)) {\n      throw Object.assign(\n        new Error(`Could not resolve \"${name}\" in file ${dirname}.`),\n        { type: \"MODULE_NOT_FOUND\" },\n      );\n    }\n    return resolved;\n  } catch (e) {\n    try {\n      return resolveStandardizedNameForRequire(type, name, dirname);\n    } catch (e2) {\n      if (e.type === \"MODULE_NOT_FOUND\") throw e;\n      if (e2.type === \"MODULE_NOT_FOUND\") throw e2;\n      throw e;\n    }\n  }\n}\n\nif (!process.env.BABEL_8_BREAKING) {\n  // eslint-disable-next-line no-var\n  var LOADING_MODULES = new Set();\n}\nfunction* requireModule(type: string, name: string): Handler<unknown> {\n  if (!process.env.BABEL_8_BREAKING) {\n    if (!(yield* isAsync()) && LOADING_MODULES.has(name)) {\n      throw new Error(\n        `Reentrant ${type} detected trying to load \"${name}\". This module is not ignored ` +\n          \"and is trying to load itself while compiling itself, leading to a dependency cycle. \" +\n          'We recommend adding it to your \"ignore\" list in your babelrc, or to a .babelignore.',\n      );\n    }\n  }\n\n  try {\n    if (!process.env.BABEL_8_BREAKING) {\n      LOADING_MODULES.add(name);\n    }\n\n    if (process.env.BABEL_8_BREAKING) {\n      return yield* loadCodeDefault(\n        name,\n        `You appear to be using a native ECMAScript module ${type}, ` +\n          \"which is only supported when running Babel asynchronously.\",\n      );\n    } else {\n      return yield* loadCodeDefault(\n        name,\n        `You appear to be using a native ECMAScript module ${type}, ` +\n          \"which is only supported when running Babel asynchronously.\",\n        // For backward compatibility, we need to support malformed presets\n        // defined as separate named exports rather than a single default\n        // export.\n        // See packages/babel-core/test/fixtures/option-manager/presets/es2015_named.js\n        // @ts-ignore(Babel 7 vs Babel 8) This param has been removed\n        true,\n      );\n    }\n  } catch (err) {\n    err.message = `[BABEL]: ${err.message} (While processing: ${name})`;\n    throw err;\n  } finally {\n    if (!process.env.BABEL_8_BREAKING) {\n      LOADING_MODULES.delete(name);\n    }\n  }\n}\n"],"mappings":"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","ignoreList":[]}