{"version":3,"file":"normalize-options.js","names":["_createForOfIteratorHelper","o","allowArrayLike","it","Symbol","iterator","Array","isArray","_unsupportedIterableToArray","length","i","F","s","n","done","value","e","_e","f","TypeError","normalCompletion","didErr","err","call","step","next","_e2","minLen","_arrayLikeToArray","Object","prototype","toString","slice","constructor","name","from","test","arr","len","arr2","exports","__esModule","applyMissingDependenciesDefaults","validateIncludeExclude","_utils","require","patternToRegExp","pattern","RegExp","concat","_unused","buildUnusedError","label","unused","map","original","String","join","buldDuplicatesError","duplicates","size","provider","polyfills","includePatterns","excludePatterns","current","filter","regexp","matched","_iterator","keys","_step","polyfill","add","include","Set","unusedInclude","exclude","unusedExclude","intersection","Error","options","babelApi","_options$missingDepen","missingDependencies","caller","_missingDependencies$","log","_missingDependencies$2","inject","_missingDependencies$3","all"],"sources":["../../../../../node_modules/@babel/helper-define-polyfill-provider/lib/normalize-options.js"],"sourcesContent":["\"use strict\";\n\nexports.__esModule = true;\nexports.applyMissingDependenciesDefaults = applyMissingDependenciesDefaults;\nexports.validateIncludeExclude = validateIncludeExclude;\nvar _utils = require(\"./utils\");\nfunction patternToRegExp(pattern) {\n  if (pattern instanceof RegExp) return pattern;\n  try {\n    return new RegExp(`^${pattern}$`);\n  } catch (_unused) {\n    return null;\n  }\n}\nfunction buildUnusedError(label, unused) {\n  if (!unused.length) return \"\";\n  return `  - The following \"${label}\" patterns didn't match any polyfill:\\n` + unused.map(original => `    ${String(original)}\\n`).join(\"\");\n}\nfunction buldDuplicatesError(duplicates) {\n  if (!duplicates.size) return \"\";\n  return `  - The following polyfills were matched both by \"include\" and \"exclude\" patterns:\\n` + Array.from(duplicates, name => `    ${name}\\n`).join(\"\");\n}\nfunction validateIncludeExclude(provider, polyfills, includePatterns, excludePatterns) {\n  let current;\n  const filter = pattern => {\n    const regexp = patternToRegExp(pattern);\n    if (!regexp) return false;\n    let matched = false;\n    for (const polyfill of polyfills.keys()) {\n      if (regexp.test(polyfill)) {\n        matched = true;\n        current.add(polyfill);\n      }\n    }\n    return !matched;\n  };\n\n  // prettier-ignore\n  const include = current = new Set();\n  const unusedInclude = Array.from(includePatterns).filter(filter);\n\n  // prettier-ignore\n  const exclude = current = new Set();\n  const unusedExclude = Array.from(excludePatterns).filter(filter);\n  const duplicates = (0, _utils.intersection)(include, exclude);\n  if (duplicates.size > 0 || unusedInclude.length > 0 || unusedExclude.length > 0) {\n    throw new Error(`Error while validating the \"${provider}\" provider options:\\n` + buildUnusedError(\"include\", unusedInclude) + buildUnusedError(\"exclude\", unusedExclude) + buldDuplicatesError(duplicates));\n  }\n  return {\n    include,\n    exclude\n  };\n}\nfunction applyMissingDependenciesDefaults(options, babelApi) {\n  const {\n    missingDependencies = {}\n  } = options;\n  if (missingDependencies === false) return false;\n  const caller = babelApi.caller(caller => caller == null ? void 0 : caller.name);\n  const {\n    log = \"deferred\",\n    inject = caller === \"rollup-plugin-babel\" ? \"throw\" : \"import\",\n    all = false\n  } = missingDependencies;\n  return {\n    log,\n    inject,\n    all\n  };\n}"],"mappings":"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","ignoreList":[]}